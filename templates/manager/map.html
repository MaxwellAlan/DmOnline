{% extends 'manager/base.html' %}

{% block title %}
    DMOnline - map
{% endblock %}

{% block content %}
    <style type="text/css">
        #allmap {width: 85%;height: 800px;overflow: hidden;margin-left: 185px;margin-top:40px;font-family:"微软雅黑";}
    </style>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=n19zGiKvK7S8Bu0H44rhVtSL4q4eeMXh"></script>
    <body>
    <div id="allmap" ></div>
    </body>
    <script type="text/javascript">

    var points = [new BMap.Point(108.9535811,34.2657131),
                  new BMap.Point(108.9535811,34.2657132),
                  new BMap.Point(108.9535811,34.2657133),
                  new BMap.Point(108.9535811,34.2657134),
                  new BMap.Point(108.9535811,34.2657135)
    ];

    //地图初始化
    var bm = new BMap.Map("allmap");
    bm.centerAndZoom(new BMap.Point(108.953581,34.265713),15);
    bm.enableScrollWheelZoom(true);
    //坐标转换完之后的回调函数
    translateCallback = function (data){
      if(data.status === 0) {
        for (var i = 0; i < data.points.length; i++) {
            bm.addOverlay(new BMap.Marker(data.points[i]));
            bm.setCenter(data.points[i]);
        }
      }
    }
    setTimeout(function(){
        var convertor = new BMap.Convertor();
        convertor.translate(points, 1, 5, translateCallback)
    }, 1000);
    </script>

{% endblock %}